// For license information, see `https://assets.adobedtm.com/98d94abf0996/ebfaa8e9c235/0614e8340dbc/RC03a41453d84d41e6bbc27ca058be3d46-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/98d94abf0996/ebfaa8e9c235/0614e8340dbc/RC03a41453d84d41e6bbc27ca058be3d46-source.min.js', "<!-- Start Conversant Tag -->\n<script type=\"text/javascript\">\n    \n  var url = _satellite.getVar(\"dd_cleanURL\");\n  var urlPath = window.location.pathname;\n  var urlPathLength = urlPath.split('/').length;\n\n  //Tag URL\n  var dtmSrc = window.location.origin + \"/tag_path/profile/visit/js/1_0?dtm_cid=2623&dtm_cmagic=8e68c3&dtm_fid=101\";\n  //var dtmSrc = \"https://login.dotomi.com\" + \"/profile/visit/js/1_0?dtm_cid=2623&dtm_cmagic=8e68c3&dtm_fid=101\";\n  \n  //For PAGE Identification\n  var pgTemp = \"\", pgType = \"\", siteSec = \"\";\n  if (_satellite.getVar(\"dd_pageTemplate\")) {pgTemp = _satellite.getVar(\"dd_pageTemplate\");}\n  if (_satellite.getVar(\"page_type_conversant\")) {pgType = _satellite.getVar(\"page_type_conversant\");}\n  if (_satellite.getVar(\"dd_siteSection\")) {siteSec = _satellite.getVar(\"dd_siteSection\");}\n  \n  \n  //For Department, Category and Sub Category Information\n  var cateInfo = \"\", dpt = \"\", cat = \"\", subcat = \"\";\n  if (document.querySelector(\".nav__bread-crumbs\")) {\n    cateInfo = document.querySelector(\".nav__bread-crumbs\");\n    dpt = cateInfo.innerText.split(\"\\n\")[2] || \"\";\n    cat = cateInfo.innerText.split(\"\\n\")[3] || \"\";\n    subcat = cateInfo.innerText.split(\"\\n\")[4] || \"\";}\n  \n  if (urlPath.indexOf(\"/offers/offers.jsp\") != -1 && !dpt) {dpt = cateInfo.innerText.split(\"\\n\")[1];}\n  \n  //For Product Info ---- For PDP Pages\n  var prodInfo = \"\", upc = \"\", prodId = \"\", prodBrand = \"\";\n  if (window.dtmObject && window.dtmObject.BAS && window.dtmObject.BAS.ProductInfo) {\n    prodInfo = window.dtmObject.BAS.ProductInfo;\n    if (prodInfo.productInfo) {\n      prodId = prodInfo.productInfo.productId;\n      prodBrand = prodInfo.productInfo.brandName;}\n    if (prodInfo.inventory) {\n      upc = prodInfo.inventory.upc;}\n  }\n  \n   //For User ID\n   var userId = \"\";\n   if (_satellite.getVar('cookie_LoyaltyId')) {userId = _satellite.getVar('cookie_LoyaltyId');} \n   \n  //Cart Product Info ----- For Cart Page only\n  if (pgType == \"cart\" && pgTemp != \"PDP\") {\n    var i, g, itemsArrCart = [];\n    var prodBrandArr = [], prodUPC_Arr = [], prodNameArr = [], prodCategoryArr = [], prodQtyArr = [], prodIdArr = [];\n    if (window.cartData && window.cartData.itemsGroups) {\n      for (g = 0; g < window.cartData.itemsGroups.length; g++) {\n        itemsArrCart = itemsArrCart.concat(window.cartData.itemsGroups[g].items);}\n    }\n    \n    itemsArrCart.forEach(function (item) {\n      prodBrandArr.push(item.productInfo.extendedInfo.brandName);\n      prodUPC_Arr.push(item.productInfo.baseInfo.upc);\n      prodNameArr.push(item.productInfo.baseInfo.productName);\n      prodIdArr.push(item.productId);\n      prodCategoryArr.push(item.productInfo.extendedInfo.productType);\n    });\n    \n    if (prodIdArr.length === 0) {prodIdArr.push(\"\");}\n    prodId = prodIdArr[0].toString();\n    if (prodBrandArr.length === 0) {prodBrandArr.push(\"\");}\n    prodBrand = prodBrandArr[0].toString();\n    if (prodUPC_Arr.length === 0) {prodUPC_Arr.push(\"\");}\n    upc = prodUPC_Arr[0].toString();\n  }\n  \n    var promo_id;\n\n    if (pgTemp == \"Home Page\") {\n      promo_id = 1;}\n    if (pgTemp == \"Tier 1\" || pgType == \"register\" || pgType == \"Coupons\" || pgType == \"Weekly Ad\") {\n      promo_id = 2;}\n    if (pgTemp == \"Tier 2\" || (url.indexOf(\"Tier2\") > 0)) {\n      promo_id = 3;}\n    if ((url.indexOf(\"-tier3\") > 0)) {\n      promo_id = 4;}\n    if (pgTemp == \"PDP\" || pgType == \"product\") {\n      promo_id = 5;}\n    if (pgType == \"searchResult\") {\n      promo_id = 7;}\n    if (siteSec == \"storelocator\") {\n      promo_id = 10;}\n  \n    //From urlPath\n    if(!dpt && urlPathLength == 2) {\n      dpt = urlPath.split(\"/\")[1];\n    }\n    if(!cat && urlPathLength == 3) {\n      dpt = urlPath.split(\"/\")[1];\n      if(pgType != 'cart')\n        cat = urlPath.split(\"/\")[2];\n    }\n    if(!subcat && urlPathLength > 3) {\n      dpt = urlPath.split(\"/\")[1];\n      cat = urlPath.split(\"/\")[2];\n      subcat = urlPath.split(\"/\")[3];\n    }\n  \n  \n  var dtm_config = {\n    dtm_user_id: userId,\n    dtmc_department: dpt,\n    dtmc_category: cat,\n    dtmc_sub_category: subcat,\n    dtmc_product_id: prodId,\n    dtmc_brand: prodBrand,\n    dtmc_upc: upc\n  }\n  \n  console.log(dtm_config + \"**************** General\");\n\n  //Main Logic for building URL\n  var dtmTag = {}\n    //if ((pgTempArr.indexOf(pgTemp) != -1) || (url.indexOf(\"Tier2\") > 0) || (url.indexOf(\"-tier3\") > 0) || pgType == \"searchResult\" || pgType == \"cart\" || siteSec == \"storelocator\") {\n    var pgTempArr = [\"Home Page\", \"Tier 1\", \"Tier 2\", \"PDP\"];\n  \n\n    dtmTag.dtm_promo_id = promo_id;\n  \n    dtmTag.cachebuster = Date.now();\n    for (var item in dtmTag) {\n      dtmSrc += \"&\" + item + \"=\" + encodeURIComponent(dtmTag[item]);\n    }\n  //}\n\n    var dtmScript = document.createElement(\"script\");\n    dtmScript.src = dtmSrc;\n    document.getElementsByTagName('body')[0].appendChild(dtmScript);\n</script>\n<!-- End Conversant Tag -->");